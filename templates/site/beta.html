{% set noSidebar = true %}
{% set noQuickLinks = true %}
{% extends 'user-layout.html' %}

{% block body %}
<style>
  {{data.widget.formattedContainerStyles}}

  .layout {
	margin-top: 5px;
  }

  .jss2 {
	  margin-top: 18px;
  }

  .layout header {
    position: relative !important;
    transform: none !important;
    visibility: visible !important;
    padding: 0 !important;
    height: 48px;
    background-color: rgb(255, 255, 255) !important;
    color: black !important;
    margin-top: -20px;
    box-shadow: none;
    border-bottom: 1px solid #eeeeee;
  }

  .RaLayout-root-1 {
    background: white;
  }

  .RaLayout-appFrame-2 {
      margin-top: 0;
  }
</style>
<script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/openstad-react-admin@0.1.31/dist/css/main.css">
<script src="https://cdn.jsdelivr.net/npm/openstad-react-admin@0.1.31/dist/js/index.js"></script>
<div id="{{data.widget.containerId}}" class="osc-component">
	<div id="admin-root"></div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var appProps = {
      user: {
        id: {{user.id}}
      },
      site: {
        id: {{site.id}}
      },
      imageApi: {
        url: '/image'
      },
      restApi: {
        url: '/api/site/{{site.id}}'
      },
	  statsApi:{
		  url: '/stats/site/{{site.id}}/overview'
	  },
      csrf:"{{csrfToken}}",
      resources: {
		  idea: {
			  active: true
		  },
		  user: {
			  active: true
		  },
		  product: {
			  active: false
		  },
		  order: {
			  active: false
		  },
		  vote: {
			  active: true
		  },
		  article: {
			  active: false
		  },
		  argument: {
			  active: true
		  },
		  area: {
			  active: true
		  },
		  site: {
			  active: true
		  },
		  newsletterSignup: {
			  active: true
		  },
		  choicesGuide: {
			  active: true
		  },
		  tag: {
			  active: true
		  },
      }
    };

    ReactDOM.render(React.createElement(OpenstadReactAdmin.default, appProps), document.getElementById('admin-root'));
  });
</script>
{% endblock %}
